{
  "flow_version": "1.0",
  "description": "Hiker chatbot conversation flow for hitchhikers and drivers",
  
  "states": {
    "initial": {
      "id": "initial",
      "condition": "user_not_registered",
      "next_state": "ask_full_name"
    },
    
    "ask_full_name": {
      "id": "ask_full_name",
      "message": "×”×™×™! ğŸ‘‹ ×‘×¨×•×›×™× ×”×‘××™× ×œ×”×™×™×§×¨ ğŸš—âœ¨\n\n×”×‘×•×˜ ×”×—×›× ×©×™×¢×–×•×¨ ×œ×š ×œ××¦×•× ×˜×¨××¤×™× ××• ×œ×ª×ª ×˜×¨××¤×™×! ğŸ˜„\n\n×‘×•××• × ×›×™×¨! ××” ×”×©× ×”××œ× ×©×œ×š?\n(×”×©× ×™×¢×–×•×¨ ×œ× ×”×’×™× ×•×˜×¨××¤×™×¡×˜×™× ×œ×–×”×•×ª ××•×ª×š) ğŸ­",
      "expected_input": "text",
      "save_to": "full_name",
      "next_state": "ask_settlement"
    },
    
    "ask_settlement": {
      "id": "ask_settlement",
      "message": "× ×—××“ ×œ×”×›×™×¨! ğŸ˜Š\n\n×•×¢×›×©×™×• ×¡×¤×¨ ×œ×™ - ×‘××™×–×” ×™×©×•×‘ ××ª×” ×’×¨? ğŸ¡\n(×›×“×™ ×©× ×“×¢ ×××™×¤×” ×œ×”×ª×—×™×œ ××ª ×”××¡×¢ ×©×œ×š)",
      "expected_input": "text",
      "save_to": "home_settlement",
      "next_state": "ask_user_type"
    },
    
    "ask_user_type": {
      "id": "ask_user_type",
      "message": "××¢×•×œ×”! ğŸ‰\n\n×¢×›×©×™×• ×”×©××œ×” ×”×’×“×•×œ×” - ××™ ××ª×” ×‘×¢×•×œ× ×”×˜×¨××¤×™×?\n\n1. ğŸš—ğŸš¶ ×’×™×‘×•×¨ ×¢×œ! (×’× × ×”×’ ×•×’× ×˜×¨××¤×™×¡×˜)\n2. ğŸš¶ ×˜×¨××¤×™×¡×˜ (××—×¤×© ×˜×¨××¤×™×)\n3. ğŸš— × ×”×’ (× ×•×ª×Ÿ ×˜×¨××¤×™×)",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "ğŸš—ğŸš¶ ×’×™×‘×•×¨ ×¢×œ",
          "value": "both",
          "next_state": "ask_looking_for_ride_now"
        },
        "2": {
          "label": "ğŸš¶ ×˜×¨××¤×™×¡×˜",
          "value": "hitchhiker",
          "next_state": "ask_looking_for_ride_now"
        },
        "3": {
          "label": "ğŸš— × ×”×’",
          "value": "driver",
          "next_state": "ask_has_routine"
        }
      },
      "save_to": "user_type"
    },
    
    "ask_looking_for_ride_now": {
      "id": "ask_looking_for_ride_now",
      "message": "××•×§×™×™ ×˜×¨××¤×™×¡×˜ ×©×œ×™! ğŸ‘\n\n×”×©××œ×” ×”×—×©×•×‘×” - ××ª×” ×ª×§×•×¢ ×¢×›×©×™×• ×•××—×¤×© ×˜×¨××¤? ğŸƒâ€â™‚ï¸ğŸ’¨\n\n1. âœ… ×›×Ÿ! ×¦×¨×™×š ×¢×–×¨×” ×¢×›×©×™×•\n2. â° ×œ×, ×¨×§ ×œ×”×™×¨×©× ×œ×¢×ª×™×“",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "âœ… ×›×Ÿ, ×¢×›×©×™×•!",
          "value": "yes",
          "next_state": "ask_destination"
        },
        "2": {
          "label": "â° ×œ×, ×××•×—×¨ ×™×•×ª×¨",
          "value": "no",
          "next_state": "ask_set_default_destination"
        }
      }
    },
    
    "ask_destination": {
      "id": "ask_destination",
      "message": "×‘×¡×“×¨ ×’××•×¨! ğŸ¯\n\n×œ××™×¤×” ××ª×” ×¦×¨×™×š ×œ×”×’×™×¢? ğŸ—ºï¸\n\n(×¤×©×•×˜ ×›×ª×•×‘ ××ª ×©× ×”×™×¢×“)\nğŸ’¡ ×œ××©×œ: ×™×¨×•×©×œ×™×, ×ª×œ ××‘×™×‘, ×—×™×¤×”, ×‘××¨ ×©×‘×¢...",
      "expected_input": "text",
      "save_to": "destination",
      "next_state": "ask_when"
    },
    
    "ask_when": {
      "id": "ask_when",
      "message": "××¦×•×™×Ÿ! ğŸ‘Œ\n\n××– ××ª×™ ××ª×” ×¦×¨×™×š ×œ×”×’×™×¢? â°\n\n1. ğŸƒ ×”×™×•×/××—×¨ - ×’××™×© ×¢× ×”×©×¢×•×ª\n   (××ª×Ÿ ×˜×•×•×— ×©×¢×•×ª ×¨×—×‘, ×œ××©×œ 08:00-10:00)\n\n2. ğŸ“… ×ª××¨×™×š ×•×©×¢×” ××“×•×™×§×™× ×‘×¢×ª×™×“\n   (×œ××©×œ: ×‘×¢×•×“ ×©×‘×•×¢ ×‘-14:30)",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "ğŸƒ ×”×™×•×/××—×¨ (×’××™×©)",
          "value": "soon",
          "next_state": "ask_time_range"
        },
        "2": {
          "label": "ğŸ“… ×ª××¨×™×š ××“×•×™×§ ×‘×¢×ª×™×“",
          "value": "specific",
          "next_state": "ask_specific_datetime"
        }
      }
    },
    
    "ask_time_range": {
      "id": "ask_time_range",
      "message": "××– ××” ×˜×•×•×— ×”×©×¢×•×ª ×©××ª××™× ×œ×š? â°\n\n×›×ª×•×‘ ×˜×•×•×— ×©×œ ×©×¢×ª×™×™×-×©×œ×•×© ×‘×¤×•×¨××˜:\n×©×¢×ª ×”×ª×—×œ×”-×©×¢×ª ×¡×™×•×\n\nğŸ’¡ ×“×•×’×××•×ª:\nâ€¢ 08:00-10:00 (×‘×•×§×¨)\nâ€¢ 14:00-17:00 (××—×¨ ×”×¦×”×¨×™×™×)\nâ€¢ 18:00-20:00 (×¢×¨×‘)\n\nğŸ¯ ×˜×™×¤: ×›×›×œ ×©×”×˜×•×•×— ×™×•×ª×¨ ×’××™×© - ×™×•×ª×¨ ×¡×™×›×•×™ ×œ××¦×•× × ×”×’! ğŸ˜‰",
      "expected_input": "text",
      "save_to": "time_range",
      "next_state": "complete_ride_request"
    },
    
    "ask_specific_datetime": {
      "id": "ask_specific_datetime",
      "message": "××•×§×™×™, ××– ××” ×”×ª××¨×™×š ×•×”×©×¢×”? ğŸ“…â°\n\n×›×ª×•×‘ ×‘×¤×•×¨××˜ ×”×–×”:\n×™×•×/×—×•×“×©/×©× ×” ×©×¢×”:×“×§×•×ª\n\nğŸ’¡ ×“×•×’×××•×ª:\nâ€¢ 15/11/2025 14:30\nâ€¢ 20/12/2025 08:00\nâ€¢ ××—×¨ 10:00 (×–×” ×’× ×¢×•×‘×“! ğŸ˜Š)",
      "expected_input": "text",
      "save_to": "specific_datetime",
      "next_state": "complete_ride_request"
    },
    
    "complete_ride_request": {
      "id": "complete_ride_request",
      "message": "×™××œ×œ×”! ğŸ‰ ×”×‘×§×©×” ×©×œ×š × ×¨×©××” ×‘××¢×¨×›×ª!\n\n×× ×™ ×›×‘×¨ ××—×¤×© ×œ×š × ×”×’ ××ª××™×... ğŸ”ğŸš—\n\n×‘×¨×’×¢ ×©×××¦× ××™×©×”×• - ×ª×§×‘×œ ×”×ª×¨××”! ğŸ“²",
      "action": "save_ride_request",
      "next_state": "check_if_also_driver"
    },
    
    "check_if_also_driver": {
      "id": "check_if_also_driver",
      "condition": "user_type_is_both",
      "next_state": "ask_has_routine",
      "else_next_state": "registration_complete"
    },
    
    "ask_set_default_destination": {
      "id": "ask_set_default_destination",
      "message": "×‘×¡×“×¨ ×’××•×¨! ğŸ‘\n\n×× ×™ ×›××Ÿ ×‘×©×‘×™×œ×š 24/7! ğŸ’ª\n\n×¨×•×¦×” ×œ×”×’×“×™×¨ \"×™×¢×“ ××•×¢×“×£\"?\n(×–×” ××§×•× ×©××ª×” × ×•×¡×¢ ××œ×™×• ×”×¨×‘×”, ×œ××©×œ: ×¢×‘×•×“×”, ××•× ×™×‘×¨×¡×™×˜×”...)\n\nâœ… ×”×™×ª×¨×•×Ÿ: ×‘×¤×¢× ×”×‘××” ×œ× ×ª×¦×˜×¨×š ×œ×”×§×œ×™×“ - ×¨×§ ×œ×œ×—×•×¥! âš¡\n\n1. âœ… ×›×Ÿ, ×‘×•× × ×’×“×™×¨\n2. â­ï¸ ×œ× ×¦×¨×™×š",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "âœ… ×›×Ÿ, ×‘×•× × ×’×“×™×¨",
          "value": "yes",
          "next_state": "ask_default_destination_name"
        },
        "2": {
          "label": "â­ï¸ ×œ× ×¦×¨×™×š",
          "value": "no",
          "next_state": "check_if_also_driver"
        }
      }
    },
    
    "ask_default_destination_name": {
      "id": "ask_default_destination_name",
      "message": "××¢×•×œ×”! ğŸ¯\n\n××– ××” ×”×™×¢×“ ×”×§×‘×•×¢ ×©×œ×š?\n\n(×›×ª×•×‘ ×©× ×™×©×•×‘, ×¢×™×¨, ××• ××–×•×¨)\nğŸ’¡ ×“×•×’×××•×ª: ×™×¨×•×©×œ×™×, ×ª×œ ××‘×™×‘, ×¦×¤×•×Ÿ, ×“×¨×•×, ×©×¤×œ×”...",
      "expected_input": "text",
      "save_to": "default_destination",
      "next_state": "check_if_also_driver"
    },
    
    "ask_has_routine": {
      "id": "ask_has_routine",
      "message": "××– ×¢×›×©×™×• ×‘×•××• × ×“×‘×¨ ×¢×œ×™×š ×›× ×”×’! ğŸš—ğŸ’¨\n\n×™×© ×œ×š ×©×’×¨×ª × ×¡×™×¢×” ×§×‘×•×¢×”?\n(×œ××©×œ: ×›×œ ×™×•× ×œ×¢×‘×•×“×”, ×¤×¢××™×™× ×‘×©×‘×•×¢ ×œ×§× ×™×•×ª...)\n\n×©×•× ×“×‘×¨ ××—×™×™×‘! ×–×” ×¨×§ ×›×“×™ ×œ×¢×–×•×¨ ×œ××¦×•× ×œ×š ×˜×¨××¤×™×¡×˜×™× ××ª××™××™× ğŸ˜Š\n\n1. âœ… ×›×Ÿ, ×™×© ×œ×™ ×©×’×¨×”\n2. âŒ ×œ×, × ×•×¡×¢ ×¡×¤×•× ×˜× ×™",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "âœ… ×›×Ÿ, ×™×© ×©×’×¨×”",
          "value": "yes",
          "next_state": "ask_routine_destination"
        },
        "2": {
          "label": "âŒ ×œ×, ×¡×¤×•× ×˜× ×™",
          "value": "no",
          "next_state": "ask_alert_frequency"
        }
      }
    },
    
    "ask_routine_destination": {
      "id": "ask_routine_destination",
      "message": "××’× ×™×‘! ğŸ¯\n\n××– ×œ××™×¤×” ××ª×” × ×•×¡×¢ ×‘×“×¨×š ×›×œ×œ?\n\n(×›×ª×•×‘ ×©× ×™×©×•×‘, ×¢×™×¨ ××• ××–×•×¨)\nğŸ’¡ ×œ××©×œ: ×™×¨×•×©×œ×™×, ×ª×œ ××‘×™×‘, ×¦×¤×•×Ÿ, ×“×¨×•×...",
      "expected_input": "text",
      "save_to": "routine_destination",
      "next_state": "ask_routine_days"
    },
    
    "ask_routine_days": {
      "id": "ask_routine_days",
      "message": "× ×—××“! ğŸ“…\n\n×‘××™×–×” ×™××™× ×‘×©×‘×•×¢ ××ª×” × ×•×¡×¢ ×œ×©×?\n\nğŸ’¡ ×“×¨×›×™× ×œ×›×ª×•×‘:\nâ€¢ ×-×” (×¨××©×•×Ÿ ×¢×“ ×—××™×©×™)\nâ€¢ ×,×’,×” (×™××™× ×¡×¤×¦×™×¤×™×™× ×‘×¤×¡×™×§×™×)\nâ€¢ ×›×œ ×™×•×\nâ€¢ ×¨××©×•×Ÿ ×•×©×œ×™×©×™\nâ€¢ ×-×• (×™××™× ××¨×•×›×™×? ğŸ˜…)\n\n(×›×ª×•×‘ ×‘×›×œ ×“×¨×š ×©× ×•×— ×œ×š!)",
      "expected_input": "text",
      "save_to": "routine_days",
      "next_state": "ask_routine_departure_time"
    },
    
    "ask_routine_departure_time": {
      "id": "ask_routine_departure_time",
      "message": "××•×§×™×™! â°\n\n×‘××™×–×• ×©×¢×” ××ª×” ×‘×“×¨×š ×›×œ×œ ×™×•×¦× ×-{home_settlement}?\n\n(×¤×©×•×˜ ×›×ª×•×‘ ××ª ×”×©×¢×”, ×œ××©×œ: 07:00 ××• 14:30)",
      "expected_input": "text",
      "save_to": "routine_departure_time",
      "next_state": "ask_routine_return_time"
    },
    
    "ask_routine_return_time": {
      "id": "ask_routine_return_time",
      "message": "××¢×•×œ×”! ğŸ”„\n\n×•×‘××™×–×• ×©×¢×” ××ª×” ×‘×“×¨×š ×›×œ×œ *×™×•×¦×* ×-{routine_destination} ×‘×—×–×¨×”?\n\n(×œ× ×©×¢×ª ×”×’×¢×” - ××œ× ×‘××™×–×• ×©×¢×” ××ª×” ××ª×—×™×œ ×œ× ×¡×•×¢ ×—×–×¨×”)\nğŸ’¡ ×œ××©×œ: 18:00\n\n(×›×Ÿ, ×’× ×‘×“×¨×š ×—×–×¨×” ××¤×©×¨ ×œ×ª×ª ×˜×¨××¤! ğŸ˜Š)",
      "expected_input": "text",
      "save_to": "routine_return_time",
      "next_state": "ask_another_routine_destination"
    },
    
    "ask_another_routine_destination": {
      "id": "ask_another_routine_destination",
      "message": "××•×©×œ×! ğŸ‘Œ\n\n×™×© ×œ×š ×¢×•×“ ×™×¢×“ ×§×‘×•×¢ ×©××ª×” × ×•×¡×¢ ××œ×™×•?\n(×’× ××—×“ × ×•×¡×£ ×–×” ×›×‘×¨ ×”×¨×‘×”! ğŸ’ª)\n\n1. âœ… ×›×Ÿ, ×™×© ×¢×•×“\n2. âŒ ×œ×, ×–×” ×”×›×œ",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "âœ… ×›×Ÿ, ×™×© ×¢×•×“",
          "value": "yes",
          "next_state": "ask_routine_destination"
        },
        "2": {
          "label": "âŒ ×œ×, ×–×” ×”×›×œ",
          "value": "no",
          "next_state": "ask_alert_preference"
        }
      }
    },
    
    "ask_alert_preference": {
      "id": "ask_alert_preference",
      "message": "××—×œ×”! ×›××¢×˜ ×¡×™×™×× ×•! ğŸ‰\n\n×¢×›×©×™×• ×”×©××œ×” ×”××—×¨×•× ×” - ××ª×™ ×× ×™ ××©×œ×— ×œ×š ×”×ª×¨××•×ª ×¢×œ ×˜×¨××¤×™×¡×˜×™×? ğŸ“²\n\n1. ğŸ”” ×¢×œ ×›×œ ×‘×§×©×” ×©××’×™×¢×”\n   (×’× ×× ×–×” ×œ× ×‘×™×¢×“×™× ×©×œ×š - ×ª×”×™×” ×”×¨×‘×” ×”×ª×¨××•×ª! ğŸ“³)\n\n2. ğŸ¯ ×¨×§ ×˜×¨××¤×™×¡×˜×™× ×©× ×•×¡×¢×™× ×œ×™×¢×“×™× ×©×œ×š\n   (×ª×œ ××‘×™×‘, ×™×¨×•×©×œ×™× ×•×›×•' - ×‘×›×œ ×©×¢×”)\n\n3. ğŸ¯â° ×™×¢×“×™× ×©×œ×š + ×¨×§ ×‘×©×¢×•×ª ×©××ª×” × ×•×¡×¢\n   (×”×›×™ ×¨×œ×•×•× ×˜×™! ×œ××©×œ: ×¨×§ ×ª×œ ××‘×™×‘ 07:00-09:00)",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "ğŸ”” ×¢×œ ×”×›×œ",
          "value": "all",
          "save_to": "alert_preference",
          "next_state": "registration_complete"
        },
        "2": {
          "label": "ğŸ¯ ×”×™×¢×“×™× ×©×œ×™ ×‘×œ×‘×“",
          "value": "my_destinations",
          "save_to": "alert_preference",
          "next_state": "registration_complete"
        },
        "3": {
          "label": "ğŸ¯â° ×™×¢×“×™× + ×©×¢×•×ª (××•××œ×¥!)",
          "value": "my_destinations_and_times",
          "save_to": "alert_preference",
          "next_state": "registration_complete"
        }
      }
    },
    
    "ask_alert_frequency": {
      "id": "ask_alert_frequency",
      "message": "×›××¢×˜ ×¡×™×™×× ×•! ğŸ\n\n×¢×›×©×™×• ×‘×•× × ×§×‘×¢ - ×¢×œ ××™×–×” ×‘×§×©×•×ª ×˜×¨××¤ ×× ×™ ××©×œ×— ×œ×š ×”×ª×¨××”? ğŸ“²\n\n1. ğŸŒ ×¢×œ ×›×œ ×‘×§×©×”!\n   (×’× ×× ×–×” ×¨×—×•×§ ×××š - ×ª×”×™×” ×”×¨×‘×” ×”×ª×¨××•×ª!)\n\n2. ğŸ“ ×¨×§ ×‘×§×©×•×ª ×‘××™×–×•×¨ ×©×œ×™\n   (×œ××©×œ: ×¨×§ ×¦×¤×•×Ÿ, ×¨×§ ××¨×›×–... ×‘×›×œ ×©×¢×”)\n\n3. ğŸ“â° ××™×–×•×¨ ×©×œ×™ + ×‘×©×¢×•×ª ×©××ª××™××•×ª ×œ×™\n   (×”×›×™ ×¨×œ×•×•× ×˜×™! ×¨×§ ×›×©××ª×” ×‘×××ª ×™×›×•×œ ×œ×ª×ª ×˜×¨××¤)\n\n4. ğŸ”• ×‘×œ×™ ×”×ª×¨××•×ª\n   (×× ×™ ××›× ×¡ ×œ×‘×•×˜ ×›×©×× ×™ ×¨×•×¦×”)",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "ğŸŒ ×”×›×œ!",
          "value": "all",
          "save_to": "alert_frequency",
          "next_state": "registration_complete"
        },
        "2": {
          "label": "ğŸ“ ××™×–×•×¨ ×©×œ×™ ×‘×œ×‘×“",
          "value": "specific_area_any_time",
          "save_to": "alert_frequency",
          "next_state": "registration_complete"
        },
        "3": {
          "label": "ğŸ“â° ××™×–×•×¨ + ×©×¢×•×ª (××•××œ×¥!)",
          "value": "specific_area_and_time",
          "save_to": "alert_frequency",
          "next_state": "registration_complete"
        },
        "4": {
          "label": "ğŸ”• ×‘×œ×™ ×”×ª×¨××•×ª",
          "value": "none",
          "save_to": "alert_frequency",
          "next_state": "registration_complete"
        }
      }
    },
    
    "registration_complete": {
      "id": "registration_complete",
      "message": "×™××œ×œ×”! ğŸ‰ğŸŠ ×¡×™×™×× ×•!\n\n×”×”×¨×©××” ×”×•×©×œ××” ×‘×”×¦×œ×—×”! âœ…\n\n××¢×›×©×™×• ×× ×™ ×›××Ÿ ×‘×©×‘×™×œ×š 24/7! ğŸš—ğŸ’ª\n×›×œ ×¤×¢× ×©×ª×¦×˜×¨×š ×¢×–×¨×” - ×¤×©×•×˜ ×ª×›×ª×•×‘ ×œ×™! ğŸ˜Š\n\n×™×© ×˜×¨××¤! ğŸš™ğŸ’¨",
      "action": "complete_registration",
      "next_state": "idle"
    },
    
    "registered_user_menu": {
      "id": "registered_user_menu",
      "message": "×”×™×™ {full_name}! ğŸ‘‹ğŸ˜Š\n\n×©××— ×œ×¨××•×ª ××•×ª×š ×©×•×‘! ğŸš—âœ¨\n\n××” ×ª×¨×¦×” ×œ×¢×©×•×ª ×”×™×•×?\n\n1. ğŸš¶ ××—×¤×© ×˜×¨××¤!\n   (×¦×¨×™×š ×œ×”×’×™×¢ ×œ××™×–×©×”×• ××§×•× ×¢×›×©×™×•)\n\n2. ğŸš— ×œ×ª×ª ×˜×¨××¤\n   (×× ×™ × ×•×”×’ ×•×™×© ×œ×™ ××§×•× ×¤× ×•×™)\n\n3. ğŸ“… ×œ×ª×›× ×Ÿ × ×¡×™×¢×” ××¨××©\n   (×œ×”×›×™×Ÿ ××©×”×• ×œ×¢×•×“ ×›××” ×™××™×)\n\n4. ğŸ”„ ×œ×¢×“×›×Ÿ ×©×’×¨×ª × ×¡×™×¢×•×ª (× ×”×’×™×)\n   (×œ×©× ×•×ª ×™×¢×“×™×, ×™××™× ××• ×©×¢×•×ª)\n\n5. âœï¸ ×œ×¢×“×›×Ÿ ×¤×¨×˜×™× ××™×©×™×™×\n   (×©×, ×™×©×•×‘, ×”×ª×¨××•×ª...)\n\n6. ğŸ’¬ ×¢×–×¨×”\n   (×”×¡×‘×¨ ××™×š ×œ×”×©×ª××© ×‘×‘×•×˜)",
      "expected_input": "choice",
      "condition": "user_registered",
      "options": {
        "1": {
          "label": "ğŸš¶ ××—×¤×© ×˜×¨××¤",
          "value": "search_ride",
          "next_state": "ask_destination_registered"
        },
        "2": {
          "label": "ğŸš— ×œ×ª×ª ×˜×¨××¤",
          "value": "offer_ride",
          "next_state": "ask_offer_ride_details"
        },
        "3": {
          "label": "ğŸ“… ×œ×ª×›× ×Ÿ × ×¡×™×¢×”",
          "value": "plan_trip",
          "next_state": "ask_trip_planning"
        },
        "4": {
          "label": "ğŸ”„ ×¢×“×›×•×Ÿ ×©×’×¨×”",
          "value": "update_routine",
          "next_state": "ask_has_routine"
        },
        "5": {
          "label": "âœï¸ ×¢×“×›×•×Ÿ ×¤×¨×˜×™×",
          "value": "update_profile",
          "next_state": "ask_what_to_update"
        },
        "6": {
          "label": "ğŸ’¬ ×¢×–×¨×”",
          "value": "show_help",
          "next_state": "show_help_menu"
        }
      }
    },
    
    "ask_destination_registered": {
      "id": "ask_destination_registered",
      "message": "××•×§×™×™! ×‘×•× × ××¦× ×œ×š ×˜×¨××¤! ğŸš—ğŸ’¨\n\n××ª×” × ×•×¡×¢ ×œ×™×¢×“ ×”×§×‘×•×¢ ×©×œ×š ({default_destination})? ğŸ¯\n\n1. âœ… ×›×Ÿ, ×›×¨×’×™×œ!\n2. ğŸ”„ ×œ×, ×™×¢×“ ××—×¨ ×”×¤×¢×",
      "expected_input": "choice",
      "condition": "has_default_destination",
      "options": {
        "1": {
          "label": "âœ… ×›×Ÿ, ×›×¨×’×™×œ",
          "value": "yes",
          "action": "use_default_destination",
          "next_state": "ask_when"
        },
        "2": {
          "label": "ğŸ”„ ×œ×, ×™×¢×“ ××—×¨",
          "value": "no",
          "next_state": "ask_destination"
        }
      },
      "else_next_state": "ask_destination"
    },
    
    "ask_offer_ride_details": {
      "id": "ask_offer_ride_details",
      "message": "××¢×•×œ×”! ×ª×•×“×” ×©××ª×” × ×•×ª×Ÿ ×˜×¨××¤! ğŸ™ğŸš—\n\n×‘×•× × ×¤×¨×¡× ××ª ×”× ×¡×™×¢×” ×©×œ×š:\n\n×›×ª×•×‘ ××ª ×¤×¨×˜×™ ×”× ×¡×™×¢×”:\nğŸ’¡ ×œ××©×œ: \"× ×•×¡×¢ ××ª×œ ××‘×™×‘ ×œ×™×¨×•×©×œ×™× ×”×™×•× ×‘-14:00, ×™×© 2 ××§×•××•×ª ×¤× ×•×™×™×\"\n\n××• ×¡×¤×¨ ×œ×™:\nâ€¢ ×××™×¤×” ××ª×” ×™×•×¦×?\nâ€¢ ×œ××Ÿ ××ª×” × ×•×¡×¢?\nâ€¢ ××ª×™?\nâ€¢ ×›××” ××§×•××•×ª ×¤× ×•×™×™×?",
      "expected_input": "text",
      "save_to": "ride_offer_details",
      "next_state": "confirm_ride_offer",
      "action": "save_ride_offer"
    },
    
    "confirm_ride_offer": {
      "id": "confirm_ride_offer",
      "message": "×ª×•×“×” ×¨×‘×”! ğŸ™âœ¨\n\n×”× ×¡×™×¢×” ×©×œ×š ×¤×•×¨×¡××”!\n\n×˜×¨××¤×™×¡×˜×™× ××ª××™××™× ×™×§×‘×œ×• ×”×ª×¨××” ğŸ“²\n\n×× ××™×©×”×• ××¢×•× ×™×™×Ÿ - × ×¢×“×›×Ÿ ××•×ª×š! ğŸ˜Š\n\n× ×¡×™×¢×” ×‘×˜×•×—×”! ğŸš—ğŸ’¨",
      "next_state": "idle"
    },
    
    "show_help_menu": {
      "id": "show_help_menu",
      "message": "ğŸ“– ××“×¨×™×š ×©×™××•×© ×‘×”×™×™×§×¨\n\nğŸš¶ *×œ××—×¤×©×™ ×˜×¨××¤:*\n1. ×œ×—×¥ ×¢×œ \"××—×¤×© ×˜×¨××¤\"\n2. ×‘×—×¨ ×™×¢×“ ×•×©×¢×”\n3. ×ª×§×‘×œ ×”×ª×¨××” ×›×©× ××¦× × ×”×’!\n\nğŸš— *×œ× ×”×’×™×:*\n1. ×œ×—×¥ ×¢×œ \"×œ×ª×ª ×˜×¨××¤\" ×›×©××ª×” × ×•×¡×¢\n2. ××• ×”×’×“×¨ \"×©×’×¨×ª × ×¡×™×¢×•×ª\" ×œ××¡×œ×•×œ×™× ×§×‘×•×¢×™×\n3. ×ª×§×‘×œ ×”×ª×¨××•×ª ×¢×œ ×˜×¨××¤×™×¡×˜×™× ××ª××™××™×!\n\nâœ¨ *×˜×™×¤×™×:*\nâ€¢ ×›×›×œ ×©×ª×”×™×” ×™×•×ª×¨ ×’××™×© ×¢× ×©×¢×•×ª - ×™×•×ª×¨ ×¡×™×›×•×™ ×œ×”×ª×××”\nâ€¢ ×¢×“×›×Ÿ ××ª ×”×©×’×¨×” ×©×œ×š ×›×“×™ ×œ×§×‘×œ ×”×ª×¨××•×ª ×¨×œ×•×•× ×˜×™×•×ª\nâ€¢ ××¤×©×¨ ×ª××™×“ ×œ×›×ª×•×‘ \"×ª×¤×¨×™×˜\" ×›×“×™ ×œ×—×–×•×¨ ×œ×ª×¤×¨×™×˜ ×”×¨××©×™\n\nğŸ’¬ *×¤×§×•×“×•×ª ×©×™××•×©×™×•×ª:*\nâ€¢ ×ª×¤×¨×™×˜ - ×—×–×¨×” ×œ×ª×¤×¨×™×˜\nâ€¢ ×—×“×© - ×”×ª×—×œ×” ××—×“×©\nâ€¢ ×—×–×•×¨ - ×—×–×¨×” ×©×œ×‘ ××—×•×¨×”\nâ€¢ ×¢×–×¨×” - ×”××“×¨×™×š ×”×–×”\n\n×™×© ×¢×•×“ ×©××œ×•×ª? ×¤×©×•×˜ ×›×ª×•×‘! ğŸ˜Š",
      "next_state": "idle"
    },
    
    "ask_trip_planning": {
      "id": "ask_trip_planning",
      "message": "×™×•×¤×™! ×‘×•× × ×ª×›× ×Ÿ ××ª ×”× ×¡×™×¢×” ×©×œ×š ××¨××©! ğŸ“âœ¨\n\n(×–×” ×©×•× ×” ××‘×§×©×ª ×˜×¨××¤ ×¨×’×™×œ×” - ×›××Ÿ ××ª×” ××ª×›× ×Ÿ ××¨××©\n×•×× ×™ ××–×›×™×¨ ×œ×š ×œ×”×–××™×Ÿ ×˜×¨××¤ ×›×©×”×–××Ÿ ××ª×§×¨×‘! ğŸ””)\n\n×¤×©×•×˜ ×ª××¨ ×œ×™ ××ª ×”× ×¡×™×¢×”:\n\nğŸ’¡ ×“×•×’×××•×ª:\nâ€¢ × ×¡×™×¢×” ×œ×™×¨×•×©×œ×™× ××—×¨ ×‘-08:00\nâ€¢ ×˜×™×•×œ ×œ××™×œ×ª ×‘×™×•× ×—××™×©×™\nâ€¢ × ×¡×™×¢×” ×œ×—×™×¤×” ×‘×¡×•×£ ×”×©×‘×•×¢",
      "expected_input": "text",
      "save_to": "planned_trip",
      "next_state": "confirm_trip_saved",
      "action": "save_planned_trip"
    },
    
    "ask_what_to_update": {
      "id": "ask_what_to_update",
      "message": "×‘×¡×“×¨! ×‘×•× × ×¢×“×›×Ÿ ××ª ×”×¤×¨×˜×™× ×©×œ×š! âœï¸\n\n××” ×ª×¨×¦×” ×œ×©× ×•×ª?\n\n1. ğŸ‘¤ ×©×\n2. ğŸ¡ ×™×©×•×‘ ××’×•×¨×™×\n3. ğŸ¯ ×™×¢×“×™× ×§×‘×•×¢×™×\n4. ğŸ”” ×”×¢×“×¤×•×ª ×”×ª×¨×¢×•×ª",
      "expected_input": "choice",
      "options": {
        "1": {
          "label": "ğŸ‘¤ ×©×",
          "value": "name",
          "next_state": "ask_full_name"
        },
        "2": {
          "label": "ğŸ¡ ×™×©×•×‘",
          "value": "settlement",
          "next_state": "ask_settlement"
        },
        "3": {
          "label": "ğŸ¯ ×™×¢×“×™×",
          "value": "destinations",
          "next_state": "ask_routine_destination"
        },
        "4": {
          "label": "ğŸ”” ×”×ª×¨×¢×•×ª",
          "value": "alerts",
          "next_state": "ask_alert_preference"
        }
      }
    },
    
    "confirm_trip_saved": {
      "id": "confirm_trip_saved",
      "message": "××•×©×œ×! ğŸ‰\n\n×”× ×¡×™×¢×” ×©×œ×š × ×©××¨×” ×‘××¢×¨×›×ª! âœ…\n\n××¢×“×›×Ÿ ××•×ª×š ×‘×¨×’×¢ ×©×™×”×™×• ×”×ª×××•×ª! ğŸ“²\n\n× ×¡×™×¢×” ×˜×•×‘×”! ğŸš—ğŸ’¨",
      "next_state": "idle"
    },
    
    "idle": {
      "id": "idle",
      "action": "return_to_idle"
    }
  },
  
  "commands": {
    "×—×–×•×¨": "go_back",
    "×—×“×©": "restart",
    "××—×§": "delete_data",
    "×¢×–×¨×”": "show_help",
    "×ª×¤×¨×™×˜": "show_menu"
  }
}

